<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<script type="text/javascript">
"use strict";

/* 객체 직렬화
 * - 자바스크립트에서는 객체를 바이트 배열로 직렬화 할 수 없다.
 * - 대신 객체를 문자열로 표현하는 방법이 있다.
 * - 문자열로 표현된 객체를 "JavaScript Object Notation(JSON)"이라 부른다.
 */

var score = new Object();
score.name = "홍길동";
score.kor = 100;
score.math = 100;
score.eng = 90;

// JSON 형식으로 직렬화하기
console.log(JSON.stringify(score));

// JSON 형식의 문자열을 실행하여 자바스크립트 객체로 만들기
// - JSON 형식에서 문자열은 반드시 큰 따옴표("")를 사용해야 한다.
// - 프로퍼티 이름은 반드시 문자열로 표현해야 한다.
// 1) JSON 사용하기
var str = '{"name":"임꺽정","kor":100,"eng":90,"math":80}';
var score2 = JSON.parse(str);
console.log(score2.name);
console.log(score2.kor);
console.log(score2.eng);
console.log(score2.math);
console.log("---------------------------");

// 2) eval() 함수를 사용하여 JSON 실행하기
// - 모든 자바스크립트 문장을 실행할 수 있다.
// - JSON.parse()는 오직 JSON 형식의 문자열만 실행한다.
var score3 = eval('(' + str + ')');
console.log(score3.name);
console.log(score3.kor);
console.log(score3.eng);
console.log(score3.math);

// 일반 자바스크립트 코드를 실행할 때 eval()을 사용하면 된다.
// JSON은 JSON.parse()를 사용하는 것이 편리하다.
eval('var v = prompt("이름을 입력하시오!"); alert(v);');

</script>
</body>
</html>




















